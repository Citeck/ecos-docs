Модуль «Поручения»
=====================

.. _ecos-assignments:

Модуль предназначен для постановки поручений на исполнение, и проверки результатов их исполнения при необходимости. 
Поручение может быть назначено с проверяющим сотрудником, или без него.

.. contents::
		:depth: 3

Схема бизнес-процесса
----------------------

 .. image:: _static/tasks/tasks_1.png
       :width: 800
       :align: center 

Роли
-----

.. list-table::
      :widths: 20 40
      :align: center
      :class: tight-table 
      
      * - **Инициатор**
        - Сотрудник, создающий поручение
      * - **Исполнитель**
        - Сотрудник, выполняющий поставленное Инициатором поручение
      * - **Проверяющий**
        - Сотрудник, проверяющий исполнение поручения

Статусы
-------

.. list-table::
      :widths: 20 40
      :align: center
      :class: tight-table 
      
      * - **Новоае**
        - | Инициатор создал поручение, Система формирует уведомление Исполнителю.
      * - **В работе**
        - | Исполнитель берет поручение в работу.
      * - **Уточнение**
        - | Исполнитель направляет поручение Инициатору на уточнение.
          | Проверяющий сотрудник направляет поручение Исполнителю для уточнения (доработки).
      * - **Проверка**
        - | В поручении выбран проверяющий. 
          | Назначенным сотрудникам поступает уведомление о проверке выполнения поручения.
      * - **Выполнено**
        - | Смена статуса, свидетельствующая о завершении процесса.
          | Инициатор получает уведомление о выполнении поручения.
      * - **Архив**
        - | Через 14 дней после выполнения поручения оно автоматически получает статус «Архив».
          | До получения этого статуса доступно перемещение карточек по канбан-доске.
          | Статус «Архив» на канбан-доске не отображается.


Журнал
-------

 .. image:: _static/tasks/tasks_2.png
       :width: 800
       :align: center 

Журнал содержит поля:

  -	Приоритет;
  -	Название;
  -	Срок;
  -	Статус;
  -	Инициатор;
  -	Исполнитель.


Например, https://host/v2/journals?journalId=assignments-journal

Канбан-доска
~~~~~~~~~~~~~~~

Для журнала доступно представление :ref:`канбан-доски<kanban_board>`. Столбцы соответствуют статусам поручения.

Режим доступен по нажатию на:

 .. image:: _static/tasks/tasks_3.png
       :width: 800
       :align: center 

В колонках доски отображаются статусы поручений, на самой доске - поручения распределены по статусам. По клику на наименование поручения можно перейти в карточку заявки.

Переход между статусами может осуществляться через канбан доску перемещением карточки по столбцам.

Если условия смены статусы не соблюдены, то выдается предупреждение.

Создание поручения
--------------------

1.	Создание поручения возможно как с помощью кнопки быстрого создания: 

 .. image:: _static/tasks/tasks_4.png
       :width: 300
       :align: center 

так и из журнала **«Поручения»**:

 .. image:: _static/tasks/tasks_5.png
       :width: 800
       :align: center 

2.	Для конкретного документа поручение можно создать из журнала по нажатию на:

 .. image:: _static/tasks/tasks_6.png
       :width: 800
       :align: center 

.. _ecos-assignments-action:

3.	Из карточки документа действием: 

 .. image:: _static/tasks/tasks_7.png
       :width: 300
       :align: center 

На экране становится доступна форма создания Поручения.
При создании поручения из документа автоматически проставляется связь:

 .. image:: _static/tasks/tasks_8.png
       :width: 700
       :align: center 

Карточка
----------------

 .. image:: _static/tasks/tasks_9.png
       :width: 600
       :align: center 

Укажите **название** и **описание** поручения, при необходимости добавьте **файлы**. Укажите **срок** и **приоритет**.

Выберите **Исполнителя** и, если необходима проверка результата исполнения поручения выберите **Проверяющего**.

Так же поручение можно связать с другими элементами (документами, процессами и т.д.) платформы.

Нажмите **«Создать»**. Статус поручение становится **«Новое»**.

Добавление связи
~~~~~~~~~~~~~~~~~

В разделе **«Связанные элементы»** можно задать связь поручения с другими элементами Citeck – сначала необходимо **«Выбрать тип»**:

 .. image:: _static/tasks/tasks_10.png
       :width: 300
       :align: center 

И далее выбрать связанные элементы:

 .. image:: _static/tasks/tasks_11.png
       :width: 600
       :align: center 

В карточке поручения отобразится информация:

 .. image:: _static/tasks/tasks_12.png
       :width: 600
       :align: center 

Связанные с поручением элементы будут представлены в виджете **«Связи документа»**:

 .. image:: _static/tasks/tasks_13.png
       :width: 300
       :align: center 

Для поручения доступны 2 варианта развития бизнес-процесса:

  •	без проверки результата исполнения;
  •	с проверкой результата исполнения.

Ниже рассмотрим варианты работы участников процесса с порученим.

Работа с поручением
------------------------------------

Перейти к Поручению Исполнитель может любым из способов:

  •	из полученного уведомления;
  •	из журнала «Активные задачи»;
  •	открыв поручение в журнале «Поручения».

Подробно о :ref:`задачах<tasks>`

Действия Исполнителя с поручением: отправить на уточнение, взять в работу, выполнить
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Набор вердиктов меняется в зависимости от статуса. Рассмотрим все возможные.

 .. image:: _static/tasks/tasks_14.png
       :width: 600
       :align: center 

•	**На уточнение** – вернуть поручение Инициатору для уточнения задачи. Статус меняется на **«Уточнение»**.
•	**В работу** – взять поручение в работу. Статус меняется на **«В работе»**.
•	**Выполнено** – выбрать, если поручение выполнено. Статус меняется на **«Выполнено»**. Если в поручении выбран **Проверяющий**, то статус меняется на **«Проверка»**.

Уточнение поручения Инициатором: вернуть в работу, закрыть поручение
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Инициатор отправляет поручение Исполнителю для уточнения постановки задачи.

 .. image:: _static/tasks/tasks_15.png
       :width: 600
       :align: center 
 
•	**Вернуть в работу** – указать недостающую информацию в карточке поручения или в комментарии, вернуть поручение Исполнителю в работу. Статус меняется на **«В работе»**.
•	**Закрыть поручение** – закрыть поручение, если его исполнение нецелесообразно. Статус меняется на **«Выполнено»**.

Проверка поручения
~~~~~~~~~~~~~~~~~~~~~~~~~~

Проверка поручения осуществляется, если Инициатор при создании указал в карточке **Проверяющего**.
Исполнитель выбирает вердикт **«Выполнено»**, и далее поручение получает статус **«Проверка»**. На проверяющего назначается задача.

 .. image:: _static/tasks/tasks_16.png
       :width: 600
       :align: center 
 
•	**Вернуть в работу** – поручение проверено, но не выполнено в полном объеме, вернуть поручение Исполнителю в работу. Статус меняется на **«В работе»**.
•	**Выполнено** – поручение проверено и выполнено. Статус меняется на **«Выполнено»**.

