Домашняя страница рабочего пространства
========================================

.. _ecos_journals:

.. contents:: 
   :depth: 4

Домашняя страница рабочего пространства Citeck состоит из **главного меню (1)**, **панели управления (2)**, **вкладок (3)** и **набора виджетов (4)**.

 .. image:: _static/homepage/intro_1.png
       :width: 800
       :align: center 

В левом верхнем углу расположена кнопка выбора доступных :ref:`рабочих пространств<workspaces>`:

 .. image:: _static/homepage/workspace_switcher.png
       :width: 400
       :align: center 

Кнопка **«Создать»** для быстрого создания карточек документов, кейсов. Генерируется в зависимости от пунктов в левом меню. Имеет дополнительные настройки в настройках меню.

 .. image:: _static/homepage/intro_2.png
       :width: 400
       :align: center 

**Виджеты** – информационные блоки, в которых в зависимости от их назначения и настроек могут отображаться Задачи, Статус задач, доступные Действия, Документы и т.п. Подробно о :ref:`виджетах<widgets>`

Пользователь может выбрать самостоятельно количество и схему расположения виджетов, которые необходимо отображать на домашней странице.

.. _page_settings:

Для перехода к настройкам страницы необходимо нажать **значок настройки** в панели управления и выбрать пункт **«Настроить страницу»**.

 .. image:: _static/homepage/intro_3.png
       :width: 500
       :align: center 

Откроется страница настроек домашней страницы, где можно изменить схему расположения и набор отображаемых виджетов. 

В блоке **«Колонки»** можно выбрать количество и расположение колонок на домашней странице. Для выбора необходимо кликнуть по понравившейся схеме. 

В блоке **«Виджеты»** можно перетащить необходимые виджеты в колонки домашней страницы. 

Для сохранения изменений нажмите **«Применить»** внизу страницы. 

 .. image:: _static/homepage/intro_4.png
       :width: 600
       :align: center 

Панель управления
------------------

.. _control_panel:

В верхней части главной страницы расположена панель управления:

 .. image:: _static/homepage/intro_7.png
       :width: 500
       :align: center 

С её помощью можно:

- осуществлять **поиск (1)** по документам, людям (пользователям), :ref:`рабочим пространствам<workspaces>`. 

 .. image:: _static/homepage/search_01.png
       :width: 300
       :align: center 

По нажатию на **«Показать все результаты»** открывается первая страница результатов поиска:

 .. image:: _static/homepage/search_02.png
       :width: 700
       :align: center 

Типы документов для поиска настраиваются. См. :ref:`подробно<search_settings>`

- перейти к **настройкам домашней страницы (2)**, изменить **язык интерфейса (3)**, вызвать **меню действий с учетной записью пользователя (4)**.

 .. image:: _static/homepage/intro_8.png
       :width: 200
       :align: center 

В меню содержатся следующие действия:

    * **Мой профиль** – открывает профиль пользователя, пользователь может отредактировать личную информацию;
    * **Сменить статус** - меняет статус пользователя на «Отсутствую»;
    * **Обратная связь** – открывает форму для отправки отзыва по работе системы;
    * **Сообщить о проблеме** – открывает форму для отправки письма, в котором необходимо указать о найденной в системе проблеме;
    * **Выйти** – выход из системы.

Главное меню
-------------

Доступ к основной функциональности системы осуществляется через **главное меню**. Оно содержит такие элементы, как:

    -	задачи, сгруппированные по различным признакам;
    -	список доступных разделов;
    -	доступ к справочникам.

Элементы, отображаемые в меню, могут быть :ref:`гибко настроены<menu>`.

Главное меню можно свернуть/развернуть:

.. list-table::
      :widths: 30 10
      :align: center 
      :class: tight-table 
      
      * - 

             .. image:: _static/homepage/intro_5.png
                  :width: 200
                  :align: center 

        - 

            .. image:: _static/homepage/intro_6.png
                  :width: 60
                  :align: center 

В свернутом виде оно будет отображаться в виде панели со значками в левой части экрана.

Разделы можно свернуть и развернуть. Разделы содержат журналы. При нажатии на название журнала открывается новая вкладка, содержащая выбранный журнал.

Задачи
-------

Раздел задачи содержит следующие подразделы:

.. _tasks:

 .. image:: _static/homepage/tasks.png
       :width: 250
       :align: center 

Текущие задачи
~~~~~~~~~~~~~~~~~

Все задачи, которые могут быть выполнены пользователем, как единственным исполнителем, так и в составе групп.

 .. image:: _static/homepage/tasks_active.png
       :width: 800
       :align: center 

Завершенные задачи
~~~~~~~~~~~~~~~~~~

Выполненные пользователем задачи.

 .. image:: _static/homepage/tasks_finished.png
       :width: 800
       :align: center 

Задачи подчиненных
~~~~~~~~~~~~~~~~~~~

Задачи пользователей, у которых текущий пользователь указан в их профилях как **Линейный руководитель**, и задачи подчиненных, у которых Линейные руководители являются подчиненными текущему пользователю с учетом всех уровней иерархии.

Если задача назначена на группу, и подчиненный состоит в этой группе, такие задачи не будут отображаться. Задача отобразится только тогда, когда подчиненный нажмет **Я выполню это**. 

 .. image:: _static/homepage/tasks_subordinate.png
       :width: 800
       :align: center 

Задачи отражаются в случае, если руководитель указан в профилях подчиненных в поле **Линейный руководитель**:

 .. image:: _static/homepage/tasks_subordinate_profile.png
       :width: 600
       :align: center 

В разделе доступны фильтрация и сортировка аналогично обычным журналам. См. ниже.

Работа с задачами
~~~~~~~~~~~~~~~~~~~

Перейти к документу в любом статусе можно одним из трех способов:

       * открыв задачу в Журнале **«Текущие задачи»**;
       * открыв карточку в соответствующем **Журнале**;
       * перейдя по ссылке из полученного **уведомления**.

В виджете **Мои задачи** доступны следующие действия с задачей:

 .. image:: _static/homepage/task_1.png
       :width: 600
       :align: center 

**Я выполню это** - действие доступно, если задача назначена на несколько получателей - группу или нескольких пользователей. При выполнении действия задача забирается с получателей и назначается на текущего пользователя. 

**Назначить** - действие забирает задачу из списка получателей и назначается на выбранного из оргструктуры пользователя.

 .. image:: _static/homepage/task_2.png
       :width: 600
       :align: center 

**Переназначить** - действие доступно, если задача назначена на одного получателя. Задачу можно переназначить на выбранного из оргструктуры пользователя.

В виджете **Мои задачи** доступны варианты завершения задачи:

 .. image:: _static/homepage/my_tasks.png
       :width: 600
       :align: center 

После выполнения задача переходит в **Завершенные задачи**.

Журналы
--------

.. note:: 

 Обновленный интерфейс журнала позволяет адаптивно управлять отображением данных в таблице в зависимости от высоты экрана устройства пользователя.

  1. **Адаптивность:** Таблица автоматически подстраивается под размеры экрана, чтобы всегда была видна вся важная информация.
  2. **Количество строк:** Определенное количество строк видно независимо от размера экрана. Количество адаптируется под высоту браузерного окна при инициализации. 

:ref:`Функционал журналов<journals>` в системе позволяет хранить и систематизировать информацию, созданную в системе.

Просмотр журнала
~~~~~~~~~~~~~~~~~

В главном меню кликните наименование раздела, или разверните пункт меню и выберите журнал: 

 .. image:: _static/homepage/intro_9.png
       :width: 200
       :align: center 

При выборе открывается новая вкладка с журналом. Данные представлены в табличной форме:

 .. image:: _static/homepage/intro_10_3.png
       :width: 800
       :align: center 

- **1** – Панель инструментов 
- **2** – Переключение представления журнала 
- **3** - Пролистывание страниц

.. _column_sum:

В столбце может отображаться общая сумма значений столбца:

 .. image:: _static/homepage/intro_10_2.png
       :width: 800
       :align: center 

Включение или выключение отображения суммы для каждой колонки производится отдельно по каждому атрибуту в :ref:`настройках журнала<column_sum>`. 

.. _column_width:

Ширину колонок таблицы можно изменить и сохранить:

 .. image:: _static/homepage/intro_10_1.png
       :width: 600
       :align: center 

Для каждого пользователя сохраняются индивидуальные настройки ширины колонок. При обновлении данных журнала сохраненная настройка будет применяться каждый раз.

В журнале для каждого столбца можно настроить сортировку и/или поиск:

 .. image:: _static/homepage/intro_11.png
       :width: 600
       :align: center 

При наведении курсора на запись журнала отображаются значки действий с документом: 

 .. image:: _static/homepage/intro_12.png
       :width: 800
       :align: center 

.. list-table::
      :widths: 10 30
      :align: center 
      :class: tight-table 
      
      * - 

             .. image:: _static/homepage/intro_14.png
                  :width: 30
                  :align: center 

        - открыть форму редактирования
      * - 

             .. image:: _static/homepage/intro_15.png
                  :width: 30
                  :align: center 

        - открыть документ на просмотр в новой вкладке
      * - 

             .. image:: _static/homepage/intro_13.png
                  :width: 30
                  :align: center 

        - открыть новую вкладку  с выбранным документом

      * - 

             .. image:: _static/homepage/intro_16.png
                  :width: 30
                  :align: center 

        - удалить документ (опционально)

В строке доступно встроенное редактирование. Вариант редактирования зависит от типа данных:

 .. image:: _static/homepage/inline_1.png
       :width: 800
       :align: center 

Панель инструментов журнала документов
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. list-table::
      :widths: 5 20
      :align: center 
      :class: tight-table   

      * - 

             .. image:: _static/homepage/intro_17_1.png
                  :width: 40
                  :align: center 

        - создание нового объекта

      * - 

             .. image:: _static/homepage/intro_17_0.png
                  :width: 40
                  :align: center 

        - открыть :ref:`настройки журнала<journal_data_settings>` 

      * - 

             .. image:: _static/homepage/intro_17.png
                  :width: 40
                  :align: center 

        - перейти к :ref:`редактированию формы журнала<new_journal>`. Доступно только для администратора.
      * - 

             .. image:: _static/homepage/intro_18.png
                  :width: 150
                  :align: center 

        - быстрый поиск по журналу
      * - 

             .. image:: _static/homepage/intro_17_2.png
                  :width: 150
                  :align: center 

        - групповые действия с объектами

      * - 

             .. image:: _static/homepage/intro_17_4.png
                  :width: 150
                  :align: center 

        - сохраненные :ref:`шаблоны<journal_template>` 

      * - 

             .. image:: _static/homepage/intro_19.png
                  :width: 70
                  :align: center 

        - | экспорт содержимого журнала в указанные форматы: 
          | - HTML (просмотр), 
          | - HTML (скачивание), 
          | - Excel, 
          | - CSV, 
          | - Копировать ссылку на выборку

      * - 

             .. image:: _static/homepage/intro_19_1.png
                  :width: 70
                  :align: center 

        - | :ref:`импорт данных<default_data_import>` из файла (Excel) по шаблону.
          | В результате обработки данных в системе создаются карточки выбранного типа.

      * - 

             .. image:: _static/homepage/intro_20.png
                  :width: 40
                  :align: center 

        - обновить данные в журнале
      * - 

             .. image:: _static/homepage/intro_17_3.png
                  :width: 40
                  :align: center 

        - сбросить фильтры, если они были применены


Навигация по журналу
~~~~~~~~~~~~~~~~~~~~~~~~~

Определенное количество строк видно независимо от размера экрана. Количество адаптируется под высоту браузерного окна при инициализации. 

Для пролистывания страниц нажмите вперед/назад в правом углу журнала:


 .. image:: _static/homepage/intro_21.png
       :width: 500
       :align: center 

Изменение представление журнала
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

 .. image:: _static/homepage/intro_21_1.png
       :width: 500
       :align: center 

Возможные варианты представления журнала:

.. list-table:: 
      :widths: 10 20
      :align: center
      :class: tight-table  

      * - |
  
              .. image:: _static/homepage/view_01.png
                     :width: 30
                     :align: center

        - :ref:`таблица<journal_table>`
      * - |
  
              .. image:: _static/homepage/view_02.png
                     :width: 30
                     :align: center

        - :ref:`таблица с превью<journal_preview>`
      * - |
  
              .. image:: _static/homepage/view_03.png
                     :width: 30
                     :align: center

        - :ref:`канбан доска<kanban_board>`
      * - |
  
              .. image:: _static/homepage/view_04.png
                     :width: 30
                     :align: center

        - :ref:`библиотека документов<document_library>`

      * - |
  
              .. image:: _static/homepage/view_05.png
                     :width: 30
                     :align: center

        - :ref:`список<journal_list>`


Настройки журнала
~~~~~~~~~~~~~~~~~~~

.. _journal_data_settings:

Настройки журнала позволяют применить фильтрацию к записям журнала, настроить отображаемые колонки в журнале, сгруппировать записи журнала, сохранить выбранные настройки как шаблон, применить или сбросить настройки. 

 .. image:: _static/homepage/intro_22.png
       :width: 500
       :align: center 

Если нет полей для группировки, то скрывается панель или значения в панели.

Фильтрация
"""""""""""

Для фильтрации записей журнала по определенным параметрам, необходимо в блоке **Фильтрация** заполнить критерии.

1.	Если критериев по умолчанию не хватает, то нажать кнопку **«Добавить критерий»** или **«Добавить группу условий»** и из раскрывающегося списка выбрать дополнительные критерии:

 .. image:: _static/homepage/intro_25.png
       :width: 500
       :align: center 

2.	Заполнить условия по необходимым критериям (одному или нескольким). Критерии, которые не заполнены, не будут учитываться при фильтрации.

 .. image:: _static/homepage/intro_25_1.png
       :width: 500
       :align: center 

3.	Нажать кнопку **«Применить»**.

При необходимости можно менять порядок критериев перетаскиванием.

 .. image:: _static/homepage/intro_26.png
       :width: 500
       :align: center 

и настраивать условия фильтрации **«И/ИЛИ»** кликом на них.

 .. image:: _static/homepage/intro_27.png
       :width: 500
       :align: center 

Если между критериями выбрано условие **«И»**, то в фильтрации будут записи, которые отвечают и тому и другому условию одновременно. Если между критериями выбрано условие **«ИЛИ»**, то в фильтрации будут записи, которые отвечают либо первому, либо второму условию, необязательно двум сразу. 

Настройка колонок журнала
""""""""""""""""""""""""""

Для выбора колонок, которые необходимо отображать в журнале, в блоке **Настройка колонок журнала** достаточно отметить их флагом и нажать **«Применить»**.
В правой части блока **Настройка колонок** можно выбрать сортировку в колонках – по возрастанию или по убыванию.

 .. image:: _static/homepage/intro_28.png
       :width: 500
       :align: center 

Группировка журнала
"""""""""""""""""""""

.. _journal_group:

Для группировки журнала по значениям необходимо в блоке **Группировка** из левой части **(2)** перетащить необходимое значение (или несколько), по которому будет сгруппирован журнал, в правую часть **(3)**:
 
 .. image:: _static/homepage/intro_29.png
       :width: 500
       :align: center 

Можно выбрать **колонку для агрегации** **(4)** и **тип агрегации** **(5)**, добавить **дополнительную колонку** для агрегации **(6)**.

Если необходимо показать информацию о количестве записей, которые попали под конкретную агрегацию, выставите чекбокс **Отображать количество записей** **(1)** - в журнал будет добавлен последний столбец **Общее количество** с рассчитанным значением.

.. _additional_column:

Для добавления колонки нажмите **«Добавить колонку»**, выберите колонку. Выбор осуществляется из колонок для агрегации.

 .. image:: _static/homepage/column_1.png
       :width: 500
       :align: center 

Для изменения порядка дополнительных колонок используйте **(1)**. Для удаления нажмите **(3)**. 

 .. image:: _static/homepage/column_2.png
       :width: 500
       :align: center 

По нажатию на **(2)** доступна индивидуальная настройка фильтров, ввод названия колонки. Настройка фильтров аналогична описанному выше. 

 .. image:: _static/homepage/column_3.png
       :width: 500
       :align: center 

Колонок может быть добавлено несколько.

 .. image:: _static/homepage/column_4.png
       :width: 500
       :align: center 

Созданную группировку данных можно сохранить в шаблон, нажав **«Создать шаблон»**. 

Для просмотра информации по выбранной группировке нажмите **«Применить»**. 

Отображаются только сгруппированные данные без суммы по колонке. Сумма по колонке будет отображаться только при переходе к сгруппированным данным.

Для просмотра сгруппированных по выбранному значению строк нажмите на стрелку в соответствующей строке. 

 .. image:: _static/homepage/intro_30.png
       :width: 700
       :align: center 

Чтобы сбросить примененные фильтры, нажмите:

 .. image:: _static/homepage/intro_30_1.png
       :width: 700
       :align: center 

Сохранение настроек в шаблон
""""""""""""""""""""""""""""""""

.. _journal_template:

Выбранные настройки можно сохранить, нажав на кнопку **«Создать шаблон»**: 

 .. image:: _static/homepage/template_05.png
       :width: 500
       :align: center

В открывшемся окне:

- введите **название шаблона**, 
- выберите **пользователей** и/или **группы**, для которых он будет доступен, 
- **рабочее пространство** по умолчанию заполнено текущим пространством, к нему можно добавить так же другие из списка доступных. Если поле очистить, то настройки будут применены для всех пространств
- нажмите кнопку **«Сохранить»**:

 .. image:: _static/homepage/template_06.png
       :width: 300
       :align: center

Сохраненный шаблон под указанным именем будет отображаться в **«Шаблонах настроек»** на панели инструментов:

 .. image:: _static/homepage/intro_23.png
       :width: 700
       :align: center 

Автор может отредактировать название шаблона, пересохранить шаблон или удалить его:

 .. image:: _static/homepage/intro_24.png
       :width: 200
       :align: center 

.. note::

       Пользователи, которым предоставлен доступ к шаблону, могут им только воспользоваться. 

Для редактирования настроек шаблона нажмите:

 .. image:: _static/homepage/template_03.png
       :width: 600
       :align: center 

Внесите изменения в настройки, фильтрацию, группировку и нажмите **«Сохр. изменения»**:

 .. image:: _static/homepage/template_04.png
       :width: 500
       :align: center 

При раскрытии сгруппированной строки из настроенного шаблона: 

 .. image:: _static/homepage/template_01.png
       :width: 800
       :align: center 

учитываются фильтрация и настройка колонок журнала:

 .. image:: _static/homepage/template_02.png
       :width: 800
       :align: center 

Вернуться в первоначальный вид настроенного шаблона можно по повторному клику на шаблон.

Выгрузка данных журнала
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. _journal_data_export:

Примените :ref:`фильтрацию<journal_data_settings>` к записям журнала, настройте отображаемые колонки в журнале, сгруппируйте записи журнала, примените выбранные настройки:

 .. image:: _static/homepage/export_01.png
       :width: 700
       :align: center 

Далее выберите экспорт содержимого журнала:

 .. image:: _static/homepage/export_02.png
       :width: 700
       :align: center 

Пример выгрузки в Excel:

 .. image:: _static/homepage/export_03.png
       :width: 600
       :align: center 


Карточка
---------

**Карточка** - страница объекта (заявки, документа, процесса и т.п.) Представляет собой :ref:`дашборд<dashboard>` с определенным для этого объекта набором :ref:`виджетов<widgets>`.

 .. image:: _static/homepage/intro_31.png
       :width: 700
       :align: center 

Основные виджеты и их назначение
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Основные виджеты карточки и их назначение:

       - **«Мои задачи»** для отображения текущего действия задачи по данному документу у просматривающего его пользователя и варианты их завершения.
       - **«Свойства»** для отображения атрибутов карточки и их значений. 
       - **«История событий»** для отображения событий таких, как создание, обновление, смена статуса документа с фиксацией даты и времени их происшествия, участников и комментариев.
       - **«Предпросмотр»** для отображения основного документа и всех связанных. Позволяет осуществлять скачивание не только основного, а текущего открытого документа.
       - **«Документы»** для загрузки сопутствующих документов.
       - **«Комментарии»** - общий комментарий. Предназначен для ввода и отображения истории ввода комментариев для задачи в целом. Является инструментом обратной связи в цикле обработки выявленных отклонений.
       - **«Статус»** отображает текущий статус документа (определяется системой автоматически, не доступен для редактирования пользователем).
       - **«Все задачи»** для отображения задач по данному документу и их исполнителей.
       - **«Действия»** содержит перечень доступных действий с документом на данном статусе.
       - **«Связи документа»** используется для установки связей данного документа с другими в системе и отображения установленных связей.
       - **«Журнал версий»** содержит актуальную и предшествующие версии документа. Служит для загрузки новой версии документа, а также для сравнения файлов.
       - **«Штрих-код документа»** отображает сгенерированный штрих-код документа.
       - **«Стадии»** визуализирует прохождение стадий документа. Стадии представляют собой сгруппированные статусы.

Некоторые виджеты можно настраивать. Для перехода к настройкам в виджете необходимо нажать:

 .. image:: _static/homepage/intro_32.png
       :width: 250
       :align: center 

Подробно о :ref:`виджетах<widgets>`.

Настройка отображения карточки
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Для изменения существующих настроек отображения карточки необходимо (при открытой вкладке с карточкой) перейти в :ref:`меню настроек<page_settings>` и выбрать пункт **«Настроить страницу»**. 

Откроется страница с настройкой карточек, где можно изменить схему расположения и набор отображаемых виджетов для выбранного типа кейса.  

Обращение в техническую поддержку
----------------------------------

При возникновении проблем в системе Вы можете обратиться в техническую поддержку. Есть несколько способов обратиться в техническую поддержку:

       - В правом верхнем углу кликните на имя пользователя и выберите **«Сообщить о проблеме»**:

               .. image:: _static/homepage/intro_33.png
                     :width: 200
                     :align: center 

       - Откройте почту и отправьте письмо на адрес support@citeck.ru 
  
               .. image:: _static/homepage/intro_34.png
                     :width: 600
                     :align: center 

           В теме письма укажите краткое описание проблемы, а в теле письма - подробное описание проблемы, последовательность действий, которая привела к ней, скриншоты (если есть).