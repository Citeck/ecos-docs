Рабочее расписание и производственный календарь
================================================

Функциональность для учета нерабочих, праздничных дней сотрудников, которые позволяют более гибко настраивать рабочий процесс сотрудников в различных модулях системы.

Рабочее расписание
-------------------

Определяет обычный распорядок рабочих дней. 

Настройка расположена в журнале http://localhost/v2/admin?journalId=type$working-schedule&type=JOURNAL

Раздел администратора - Модель – Рабочее расписание

 .. image:: _static/work_calendar/calendar_1.png
       :width: 700
       :align: center 

|

 .. image:: _static/work_calendar/calendar_2.png
       :width: 600
       :align: center 


Указать **Имя**, **Тип расписания** (на данный момент поддерживается только weekly), **Конфигурацию** для типа расписания.

Пример заполнения конфигурации:

.. code-block::

    {"workdays":["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY"],"workingDayEnd":"17:00","workingCalendar":"emodel/working-calendar@RU","workingDayStart":"09:00","workingDayTimeZone":"+03:00"}

Где:

.. list-table:: 
      :widths: 10 10

      * - **workdays**
        - Список рабочих дней
      * - **workingDayEnd**
        - Завершение рабочего дня
      * - **workingCalendar**
        - Ссылка на производственный календарь
      * - **workingDayStart**
        - Начало рабочего дня
      * - **workingDayTimeZone**
        - Часовой пояс рабочего дня

Например, используется для расчета SLA в :ref:`модуле «Service Desk»<ecos-service-desk>`

Производственный календарь
----------------------------

Функциональность для формирования списка дат, которые изменяют обычный распорядок рабочих дней:

Настройка расположена в журнале http://localhost/v2/admin?journalId=working-calendar&type=JOURNAL

Раздел администратора - Модель – Производственный календарь

 .. image:: _static/work_calendar/calendar_3.png
       :width: 700
       :align: center 

|

 .. image:: _static/work_calendar/calendar_4.png
       :width: 600
       :align: center 

Выбрать **календарь**, который расширяем своей конфигурацией, указать **даты действия** календаря, выставить **Включен** ли календарь и указать **список дней** календаря.

Пример заполнения конфигурации:

.. code-block::

    TBD

Где:

.. list-table:: 
      :widths: 10 10

      * - **date**
        - Конкретная дата или дата начала диапазона, если задано значение до
      * - **until**
        - Дата окончания диапазона (включительно)
      * - **type**
        - | Тип даты или всех дат в диапазоне
          | Допустимые типы: 
             
             * WORKING - рабочий день. Имеет смысл указывать, когда выходной день становится рабочим
             * HOLIDAY - праздник
             * SHORTDAY - сокращенный на 1ч рабочий день 
             * WEEKEND - выходной
             * NON_WORKING - не рабочий день

      * - **description**
        - Описание дня или диапазона
