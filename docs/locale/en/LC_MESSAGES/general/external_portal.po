# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2025, Citeck
# This file is distributed under the same license as the Citeck package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2025.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Citeck \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-08-28 23:55+0300\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language: en\n"
"Language-Team: en <LL@li.org>\n"
"Plural-Forms: nplurals=2; plural=(n != 1);\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.17.0\n"

#: ../../general/external_portal.rst:2
msgid "Внешний портал"
msgstr ""

#: ../../general/external_portal.rst:8
msgid "Доступно только в enterprise версии."
msgstr ""

#: ../../general/external_portal.rst:11
msgid "Содержание"
msgstr ""

#: ../../general/external_portal.rst:13
msgid ""
"Функционал, который позволяет синхронизировать между 2 стендами данные "
"определённых типов."
msgstr ""

#: ../../general/external_portal.rst:19
msgid "Пример найстройки в **values.yaml** для стенда:"
msgstr ""

#: ../../general/external_portal.rst:41
msgid "Настройка подключения к внешнему RMQ:"
msgstr ""

#: ../../general/external_portal.rst:63
msgid ""
"Настройки доступны в журнале **«Интеграции» (Рабочее пространство "
"\"Раздел администратора\" - Интеграции)**."
msgstr ""

#: ../../general/external_portal.rst:65
msgid ""
"Журнал доступен по адресу: https://portal_host/v2/admin?journalId=ext-"
"portals&type=JOURNAL"
msgstr ""

#: ../../general/external_portal.rst:72
msgid "Форма настройки"
msgstr ""

#: ../../general/external_portal.rst:78
msgid "**Идентификатор**, **Имя** как у любого артефакта"
msgstr ""

#: ../../general/external_portal.rst:79
msgid "**Конфигурация экспорта**, **Конфигурации импорта** подробно см. ниже"
msgstr ""

#: ../../general/external_portal.rst:80
msgid ""
"**«Синхронизация включена»**- если ее выключить соответственно "
"синхронизация работать не будет."
msgstr ""

#: ../../general/external_portal.rst:83
msgid "Конфигурация импорта"
msgstr ""

#: ../../general/external_portal.rst:89
msgid ""
"**Тип источника данных для импорта**. На данный момент доступен только "
"**RabbitMQ**."
msgstr ""

#: ../../general/external_portal.rst:90
msgid ""
"**Источник данных** (Внешний инстанс SD, Internal RabbitMQ) указывается "
"из какого инстанса RabbitMQ данные должны импортироваться. В answers "
"стенда настраивается список подключений, и на UI подтягиваются этот "
"список."
msgstr ""

#: ../../general/external_portal.rst:92
msgid "*Внешний инстанс SD – enterprise в данном случае.*"
msgstr ""

#: ../../general/external_portal.rst:94
msgid "**Очередь**. Из какой очереди выбранного источника импортировать."
msgstr ""

#: ../../general/external_portal.rst:96 ../../general/external_portal.rst:141
msgid "Пример:"
msgstr ""

#: ../../general/external_portal.rst:132
msgid "Конфигурация экспорта"
msgstr ""

#: ../../general/external_portal.rst:138
msgid ""
"**Очередь для экспорта**. Настроен по умолчанию на RabbitMQ текущего "
"стенда. Выбора не предполагается."
msgstr ""

#: ../../general/external_portal.rst:139
msgid ""
"**Дата начала синхронизации по умолчанию**. Заявки и комментарии, которые"
" были созданы до указанной даты, не будут обрабатываться."
msgstr ""

#: ../../general/external_portal.rst:175
msgid "Типы и атрибуты для экспорта"
msgstr ""

#: ../../general/external_portal.rst:177
msgid ""
"Выбираем **типы данных**, выбираем **атрибуты** выбранного типа, которые "
"необходимо синхронизировать:"
msgstr ""

#: ../../general/external_portal.rst:184
msgid "Настроить условия"
msgstr ""

#: ../../general/external_portal.rst:186
msgid "После выбора типа можно настроить условия:"
msgstr ""

#: ../../general/external_portal.rst:192
msgid "2 поля для условий:"
msgstr ""

#: ../../general/external_portal.rst:194
msgid ""
"**Предикат для запроса** означает, что мы в query запросе прямо "
"отправляем - получить заявки, которые были созданы после выбранной даты "
"(Дата начала синхронизации по умолчанию) и для которых выполняется "
"указанное условие."
msgstr ""

#: ../../general/external_portal.rst:195
msgid ""
"**Предикат для in-memory фильтрации.** Проверяется после выгрузки в ecos-"
"integrations. То есть мы сначала сформировали запрос, отправили его, "
"получили 100 записей, например, и каждую запись мы проверяем по этому "
"дополнительному предикату."
msgstr ""

#: ../../general/external_portal.rst:197
msgid ""
"Предикат для in-memory фильтрации позволяет фильтровать данные на "
"основании любых атрибутов. Этот метод фильтрации обладает максимальной "
"гибкостью, однако по возможности рекомендуется использовать предикат для "
"запроса, чтобы сократить время обработки."
msgstr ""

#: ../../general/external_portal.rst:199
msgid ""
"В запросе очень многие вещи проверить нельзя. Например, обратиться к "
"атрибуту parent’a, сложный вложенный атрибут. Некоторые источники данных "
"не умеют нормально преобразовывать предикаты в join."
msgstr ""

#: ../../general/external_portal.rst:201
msgid ""
"В то же время предикат для in-memory фильтрации позволяет делать условия "
"на любые атрибуты, в том числе и на очень вложенные."
msgstr ""

#: ../../general/external_portal.rst:203
msgid "Пример предиката для in-memory фильтрации:"
msgstr ""

#: ../../general/external_portal.rst:209
msgid ""
"То есть перед тем, как отправить поисковый запрос со списком атрибутов "
"для загрузки из предиката для in-memory фильтрации вытягиваются все "
"атрибуты, которые необходимы для проверки условий. Соответственно, их "
"дополнительно настраивать не нужно."
msgstr ""

#: ../../general/external_portal.rst:211
msgid ""
"В  предикате для **in-memory фильтрации** указываем необходимый атрибут и"
" в момент отправки запроса он будет также вытянут, а потом проверен."
msgstr ""

#: ../../general/external_portal.rst:213
msgid ""
"Перечисляем **атрибуты** из модели, которые дальше обрабатываются в "
"зависимости от их типа."
msgstr ""

#: ../../general/external_portal.rst:215
msgid ""
"Атрибуты **простые** (текст, число, булево) загружаются из целевого "
"источника данных, который определяется по типу, и отправляются в "
"RabbitMQ."
msgstr ""

#: ../../general/external_portal.rst:217
msgid "Для более сложных, например, ассоциаций:"
msgstr ""

#: ../../general/external_portal.rst:218
msgid "Если **Target-ассоциация**, так выгружается ссылка;"
msgstr ""

#: ../../general/external_portal.rst:219
msgid ""
"Если **Child-ассоциация**, то работает дополнительная логика, которая "
"позволяет вытягивать все атрибуты, которые заданы у типа дочерней "
"сущности, попадают в выгрузку,  и сами сущности дочерние так же попадают "
"в выгрузку. Если мы в списке атрибутов это укажем."
msgstr ""

#: ../../general/external_portal.rst:221
msgid ""
"Как альтернативный вариант можно не указывать атрибуты с дочерними "
"сущностями, а отдельный строкой **в типах для экспорта** показать, что "
"необходимо выгрузить сущности и выгрузить их parent. Так, например, "
"сделано для **вложения**."
msgstr ""

#: ../../general/external_portal.rst:224
msgid ""
"То есть вложение крепятся по docs:document (дочерняя ассоциация) и "
"выгружаются как отдельный тип."
msgstr ""

#: ../../general/external_portal.rst:231
msgid "Пользовательские атрибуты"
msgstr ""

#: ../../general/external_portal.rst:233
msgid "Возможность настроить что-то сложное."
msgstr ""

#: ../../general/external_portal.rst:239
msgid ""
"**Ключ** - под каким алиасом результат будет загружен в RabbitMQ и, "
"соответственно, на другой стенд."
msgstr ""

#: ../../general/external_portal.rst:240
msgid "**Значение** – то, что нужно загрузить."
msgstr ""

#: ../../general/external_portal.rst:242
msgid ""
"Для частных случаев. Дополнительная логика не используется, всё, что "
"написано загружается и отправляется."
msgstr ""

#: ../../general/external_portal.rst:245
msgid "Дата начала синхронизации"
msgstr ""

#: ../../general/external_portal.rst:247
msgid ""
"**Дата начала синхронизации** – настройка аналогична Дата начала "
"синхронизации по умолчанию для конкретного типа."
msgstr ""

#: ../../general/external_portal.rst:249
msgid ""
"Если не указана, то используется **Дата начала синхронизации по "
"умолчанию**."
msgstr ""

#: ../../general/external_portal.rst:251
msgid ""
"Если **Дата начала синхронизации по умолчанию** и **Дата начала "
"синхронизации** не указаны, то обрабатываются все записи."
msgstr ""

#: ../../general/external_portal.rst:254
msgid "Синхронизировать удаления"
msgstr ""

#: ../../general/external_portal.rst:256
msgid ""
"Если запись удаляется на текущем инстансе Citeck, то она так же будет "
"удалена и на внешнем портале."
msgstr ""

#: ../../general/external_portal.rst:259
msgid "Стратегия итерации"
msgstr ""

#: ../../general/external_portal.rst:261
msgid ""
"Стратегия итерации записей определяет последовательность обработки "
"записей."
msgstr ""

#: ../../general/external_portal.rst:263
msgid ""
"**CREATED** – записи обрабатываются только по дате создания. Изменённые "
"записи после первоначальной синхронизации не обрабатываются повторно."
msgstr ""

#: ../../general/external_portal.rst:264
msgid ""
"**CREATED_MODIFIED** – записи обрабатываются сначала по дате создания, "
"затем по дате изменения. Универсальная стратегия, которая гарантирует "
"обработку всех записей в порядке их создания. Записи могут быть "
"пересинхронизированы дважды (сначала по дате создания, затем по дате "
"изменения)."
msgstr ""

#: ../../general/external_portal.rst:265
msgid ""
"**MODIFIED** – записи обрабатываются только по дате изменения. Все записи"
" обрабатываются, но порядок создания не учитывается."
msgstr ""

#: ../../general/external_portal.rst:268
msgid "Комментарии. Особенности настройки"
msgstr ""

#: ../../general/external_portal.rst:274
msgid "Комментарии выгружаются с условием, что **importSyncId** отсутствует:"
msgstr ""

#: ../../general/external_portal.rst:280
msgid ""
"**importSyncId** проставляется, когда у нас синхронизированные данные "
"приходит извне. То есть когда выгружаются с одного стенда на другой, то "
"на другом внешнем стенде **importSyncId** будет заполнен идентификатором "
"синхронизации *sd-portal-main-sync*."
msgstr ""

#: ../../general/external_portal.rst:282
msgid ""
"Такое условие гарантирует, что в выгрузку с текущего стенда на внешний "
"портал попадут только те комментарии, которые были созданы именно здесь и"
" не импортированы извне. И на другом портале то же самое условие, которое"
" гарантирует, что комментарии один и тот же не будет синхронизироваться "
"до бесконечности."
msgstr ""

#: ../../general/external_portal.rst:284
msgid ""
"Настроен **предикат для in-memory фильтрации**. Проверяются тип записи "
"(sd-request-type), к которой комментарий добавлен:"
msgstr ""

#: ../../general/external_portal.rst:294
msgid "и проверяется, что тэг комментария не внутренний:"
msgstr ""

#: ../../general/external_portal.rst:304
msgid "то есть внутренний комментарий не выгружается."
msgstr ""

#: ../../general/external_portal.rst:306
msgid ""
"Стратегия **CREATED_MODIFIED**: при создании комментарий будет прокинут "
"на внешний сервер, и если будет отредактирован, то так же."
msgstr ""

#: ../../general/external_portal.rst:309
msgid "Вложения. Особенности настройки"
msgstr ""

#: ../../general/external_portal.rst:311
msgid "Для атрибута Содержимое особая логика."
msgstr ""

#: ../../general/external_portal.rst:317
msgid ""
"Содержимое в исходном поисковом запросе не запрашивается, чтобы не было "
"out of memory ошибок в ecos-model. Потом данные фильтруются следующими "
"запросами:"
msgstr ""

#: ../../general/external_portal.rst:324
msgid ""
"Сначала первым фильтром в поиске, потом вторым фильтром после загрузки. "
"Когда все фильтры пройдены подгружается содержимое. На данный момент "
"base64. И отправляется в RabbitMQ на экспорт."
msgstr ""

#: ../../general/external_portal.rst:328
msgid "Приложение sd-ext-portal-ecos-app"
msgstr ""

#: ../../general/external_portal.rst:330
msgid ""
"Меню и прочие артефакты определены в журнале **\"Приложениях ECOS\" "
"(Рабочее пространство \"Раздел администратора\" - Управление системой)** "
"для sd-ext-portal-ecos-app:"
msgstr ""

#: ../../general/external_portal.rst:337
msgid "Матрицы прав"
msgstr ""

#: ../../general/external_portal.rst:339
msgid "Важная особенность – добавлены следующие матрицы прав:"
msgstr ""

#: ../../general/external_portal.rst:345
msgid "Настройка базового типа:"
msgstr ""

#: ../../general/external_portal.rst:351
msgid ""
"У базового типа настроено, что администраторы могут записывать всё, все "
"прочие только читать."
msgstr ""

#: ../../general/external_portal.rst:353
msgid ""
"В рамках задачи по внешним порталам была добавлена возможность определять"
" права для ролей, который не заданы в типе данных. Такие роли начинаются "
"на **ROLE_**"
msgstr ""

#: ../../general/external_portal.rst:355
msgid ""
"В типе данных они могут быть не заданы, но они проверяются у пользователя"
" в списке authorities."
msgstr ""

#: ../../general/external_portal.rst:357
msgid ""
"Если мы запросим authorities - все authority, которые начинаются на "
"**ROLE_**, они в запросе получения ролей пользователя вернутся."
msgstr ""

#: ../../general/external_portal.rst:363
msgid ""
"Такие неявные глобальные роли, на которые теперь можно настраивать права."
" Самый базовый тип не менялся."
msgstr ""

#: ../../general/external_portal.rst:365
msgid "Администратор может редактировать то, для чего не настроена своя матрица."
msgstr ""

#: ../../general/external_portal.rst:367
msgid ""
"То есть матрица на базовый тип используется, если не найдена другая "
"матрица для конкретного типа."
msgstr ""

#: ../../general/external_portal.rst:369
msgid ""
"Если у нас настроена матрица для SD заявки, то используется она, и "
"матрица для базового типа не используется."
msgstr ""

#: ../../general/external_portal.rst:371
msgid ""
"Список заказчиков виден технологу, и  пользователям, которые добавлены в "
"карточке заказчика. Редактирование их происходит на основном стенде."
msgstr ""

#: ../../general/external_portal.rst:373
msgid "В матрице есть 3 роли:"
msgstr ""

#: ../../general/external_portal.rst:375
msgid "Инициатор;"
msgstr ""

#: ../../general/external_portal.rst:376
msgid "Support организации, который  определяется в карточке заказчика (client);"
msgstr ""

#: ../../general/external_portal.rst:377
msgid "Технолог citeck определяется по группе"
msgstr ""

#: ../../general/external_portal.rst:380
msgid "Заказчики"
msgstr ""

#: ../../general/external_portal.rst:382
msgid ""
"В Заказчике появились группы. Просмотр и редактирование Заказчика "
"доступны только на основном стенде в журнале "
"https://host/v2/journals?journalId=sd-clients-journal"
msgstr ""

#: ../../general/external_portal.rst:388
msgid ""
"Пользователей лучше убрать и использовать группы, т.к. при добавлении "
"пользователя в группу будет производиться динамическое изменение прав."
msgstr ""

#: ../../general/external_portal.rst:395
msgid "Логирование"
msgstr ""

#: ../../general/external_portal.rst:397
msgid ""
"Ошибки импорта, экспорта доступны в логах микросервиса интеграции, в "
"журналах **Состояние синхронизации**, **Журнал синхронизации** **(Рабочее"
" пространство \"Раздел администратора\" - Интеграция)**."
msgstr ""

#: ../../general/external_portal.rst:400
msgid "Состояние синхронизации"
msgstr ""

#: ../../general/external_portal.rst:402
msgid ""
"**Состояния синхронизации** определяют то, в каком сейчас состоянии "
"находится синхронизация."
msgstr ""

#: ../../general/external_portal.rst:408
msgid "Состояния настроены для следующих типов:"
msgstr ""

#: ../../general/external_portal.rst:410
msgid "**sd-request-type** - Заявка"
msgstr ""

#: ../../general/external_portal.rst:411
msgid "**ecos-comment** - Комментарий"
msgstr ""

#: ../../general/external_portal.rst:412
msgid "**attachment**- Содержание"
msgstr ""

#: ../../general/external_portal.rst:414
msgid "Работает через ECOS Camel, такой же функционал как для миграции данных."
msgstr ""

#: ../../general/external_portal.rst:416
msgid "**Владелец состояния** - настройка Service desk portal"
msgstr ""

#: ../../general/external_portal.rst:417
msgid "**Идентификатор** содержит  в себе префикс Camel. Например:"
msgstr ""

#: ../../general/external_portal.rst:419
msgid ""
"*camel:ecos-records-sync-consumer:ext-portal-sd-portal-ext-sync-"
"attachment*, где"
msgstr ""

#: ../../general/external_portal.rst:421
msgid "**ecos-records-sync-consumer**  - consumer синхронизации"
msgstr ""

#: ../../general/external_portal.rst:422
msgid "**ext-portal-sd-portal-ext-sync** – id синхронизации"
msgstr ""

#: ../../general/external_portal.rst:423
msgid "**attachment** – идентификатор типа"
msgstr ""

#: ../../general/external_portal.rst:425
msgid "Если настроек для типа несколько, то добавляется индекс."
msgstr ""

#: ../../general/external_portal.rst:427
msgid "В таком случае важен порядок в массиве **typesToSync**:"
msgstr ""

#: ../../general/external_portal.rst:433
msgid "Конфигурация:"
msgstr ""

#: ../../general/external_portal.rst:439
msgid ""
"**Status** – статусы синхронизации. RUNNING, если ERROR то выдается текст"
" ошибки."
msgstr ""

#: ../../general/external_portal.rst:440
msgid ""
"**initDate** – дата начала синхронизации. Заносится в state и остается "
"константой до тез пор, пока state не убьется или дата не будет изменена "
"вручную. Изменение даты синхронизации в настройках портала не меняет "
"initDate."
msgstr ""

#: ../../general/external_portal.rst:441
msgid "**lastCreated** – дата последней созданной записи."
msgstr ""

#: ../../general/external_portal.rst:442
msgid "**syncStartedAt** – когда запустилась синхронизация."
msgstr ""

#: ../../general/external_portal.rst:443
msgid ""
"**strategyStates** – состояния по стратегии. (CREATED, MODIFIED, "
"CREATED_MODIFIED). Если CREATED_MODIFIED, то 2. Если CREATED, MODIFIED, "
"то 1."
msgstr ""

#: ../../general/external_portal.rst:444
msgid "**processedCount** – сколько записей обработано"
msgstr ""

#: ../../general/external_portal.rst:445
msgid ""
"**initialSyncCompletedAt** – дата синхронизации всех записей и ожидания "
"новых. Если не задан, то синхронизация не закончилась."
msgstr ""

#: ../../general/external_portal.rst:448
msgid "Журнал синхронизации"
msgstr ""

#: ../../general/external_portal.rst:450
msgid "В журнале хранится информация о получаемых данных."
msgstr ""

#: ../../general/external_portal.rst:456
msgid "В случае ошибки содержит подробную информация о ней."
msgstr ""

#: ../../general/external_portal.rst:463
msgid "Создание заявки"
msgstr ""

#: ../../general/external_portal.rst:465
msgid "Доступны следующие варианты:"
msgstr ""

#: ../../general/external_portal.rst:467
msgid "на внешнем портале;"
msgstr ""

#: ../../general/external_portal.rst:468
msgid ""
"через почту – заявки создаются на основном портале, потом экспортируются "
"внешний портал;"
msgstr ""

#: ../../general/external_portal.rst:469
msgid "на основном портале, потом экспортируются внешний портал."
msgstr ""

#: ../../general/external_portal.rst:471
msgid "Номер присваивается на основном портале. И возвращается статус."
msgstr ""

#: ../../general/external_portal.rst:473
msgid ""
"См. пользовательское описание :ref:`портала технической "
"поддержки<portal_sd>`"
msgstr ""

