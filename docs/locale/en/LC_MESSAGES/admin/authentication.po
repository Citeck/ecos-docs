# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2025, Citeck
# This file is distributed under the same license as the Citeck package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2025.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Citeck \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-08-28 23:55+0300\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language: en\n"
"Language-Team: en <LL@li.org>\n"
"Plural-Forms: nplurals=2; plural=(n != 1);\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.17.0\n"

#: ../../admin/authentication.rst:2
msgid "Аутентификация"
msgstr ""

#: ../../admin/authentication.rst:5
msgid "Содержание"
msgstr ""

#: ../../admin/authentication.rst:8
msgid "Терминология"
msgstr ""

#: ../../admin/authentication.rst:10
msgid ""
"**IdP** (Identity provider) - Провайдер аутентификации, который отвечает "
"за аутентификацию пользователей и внешних систем. В Citeck в качестве "
"протокола для аутентификации используется OpenID Connect. В качестве "
"стандартного IdP используется `Keycloak <https://www.keycloak.org/>`_."
msgstr ""

#: ../../admin/authentication.rst:12
msgid ""
"`OIDC (OpenID Connect) <https://openid.net/connect/>`_ - Открытый "
"стандарт децентрализованной системы аутентификации."
msgstr ""

#: ../../admin/authentication.rst:13
msgid ""
"**Access Token** - Токен доступа. Используется при доступе к защищенным "
"ресурсам. Как правило имеет малое время жизни (порядка пяти минут) и "
"регулярно обновляется с помощью токена обновления (Refresh Token)."
msgstr ""

#: ../../admin/authentication.rst:14
msgid ""
"**Refresh Token** - Токен обновления. Используется OIDC клиентом при "
"обращении к IdP для получения нового токена доступа (Access Token)."
msgstr ""

#: ../../admin/authentication.rst:15
msgid ""
"**IdP Realm** - это независимое пространство со своими настройками "
"аутентификации для конкретного сервера. Если проводить аналогию с базами "
"данных, то IdP - это СУБД, а реалм - это БД."
msgstr ""

#: ../../admin/authentication.rst:19
msgid "Общая информация"
msgstr ""

#: ../../admin/authentication.rst:21
msgid "В Citeck поддерживается два способа аутентификации:"
msgstr ""

#: ../../admin/authentication.rst:23 ../../admin/authentication.rst:27
msgid "Аутентификация через встроенный OIDC клиент"
msgstr ""

#: ../../admin/authentication.rst:24 ../../admin/authentication.rst:115
msgid "Аутентификация через внешний OIDC клиент"
msgstr ""

#: ../../admin/authentication.rst:29
msgid ""
"Логика аутентификации находится в приложении ecos-proxy-app и реализована"
" через модуль `lua-resty-openidc "
"<https://luarocks.org/modules/hanszandbelt/lua-resty-openidc>`_"
msgstr ""

#: ../../admin/authentication.rst:31
msgid ""
"Настройка модуля выполняется через переменные среды контейнера ecos-"
"proxy-app:"
msgstr ""

#: ../../admin/authentication.rst:35
msgid "**Переменная**"
msgstr ""

#: ../../admin/authentication.rst:36
msgid "**Значение**"
msgstr ""

#: ../../admin/authentication.rst:37 ../../admin/authentication.rst:154
msgid "**Описание**"
msgstr ""

#: ../../admin/authentication.rst:38
msgid "EIS_TARGET"
msgstr ""

#: ../../admin/authentication.rst
msgid "Строка вида ``host[:port]``"
msgstr ""

#: ../../admin/authentication.rst
msgid ""
"Внутренний хост IdP. Используется, чтобы определить куда нужно направить "
"запросы"
msgstr ""

#: ../../admin/authentication.rst
msgid ""
"с ``http://{{SERVER_HOST}}/ecos-idp/auth/``. Этот параметр нужен только "
"тогда, когда IdP"
msgstr ""

#: ../../admin/authentication.rst
msgid ""
"разворачивается в комплекте с Citeck. Для использования внешнего IdP эту "
"настройку"
msgstr ""

#: ../../admin/authentication.rst
msgid "следует опустить."
msgstr ""

#: ../../admin/authentication.rst:44
msgid "ENABLE_OIDC_FULL_ACCESS"
msgstr ""

#: ../../admin/authentication.rst
msgid "``true`` или ``false``"
msgstr ""

#: ../../admin/authentication.rst
msgid ""
"Включить интеграцию с IdP. Как правило здесь всегда должно стоять "
"``true``."
msgstr ""

#: ../../admin/authentication.rst:47
msgid "CLIENT_ID"
msgstr ""

#: ../../admin/authentication.rst
msgid "Строка"
msgstr ""

#: ../../admin/authentication.rst
msgid "Идентификатор клиента для работы с IdP. По умолчанию ``nginx``."
msgstr ""

#: ../../admin/authentication.rst:50
msgid "CLIENT_SECRET"
msgstr ""

#: ../../admin/authentication.rst
msgid "Секрет для аутентификации OIDC клиента (ecos-proxy-app) на IdP."
msgstr ""

#: ../../admin/authentication.rst:53
msgid "EIS_SCHEME"
msgstr ""

#: ../../admin/authentication.rst
msgid "``http`` или ``https``"
msgstr ""

#: ../../admin/authentication.rst
msgid ""
"Схема для запросов от OIDC клиента (ecos-proxy-app) к IdP. По умолчанию "
"``https``."
msgstr ""

#: ../../admin/authentication.rst:56
msgid "EIS_ID"
msgstr ""

#: ../../admin/authentication.rst
msgid "Хост для доступа к IdP от OIDC клиента и от браузера пользователя."
msgstr ""

#: ../../admin/authentication.rst:59
msgid "EIS_LOCATION"
msgstr ""

#: ../../admin/authentication.rst
msgid "Локация, по которой доступен IdP на хосте EIS_ID. По умолчанию ``auth``"
msgstr ""

#: ../../admin/authentication.rst:62
msgid "REALM_ID"
msgstr ""

#: ../../admin/authentication.rst
msgid "Идентификатор реалма, в рамках которого выполняется интеграция с IdP."
msgstr ""

#: ../../admin/authentication.rst:65
msgid "REDIRECT_LOGOUT_URI"
msgstr ""

#: ../../admin/authentication.rst
msgid "URI строка"
msgstr ""

#: ../../admin/authentication.rst
msgid ""
"URI для переадресации после успешного входа, который произошел после "
"логаута."
msgstr ""

#: ../../admin/authentication.rst:68
msgid "ENABLE_LOGGING"
msgstr ""

#: ../../admin/authentication.rst
msgid "``debug`` или ``warn``"
msgstr ""

#: ../../admin/authentication.rst
msgid ""
"Включение дебага для ecos-proxy-app. При значении ``debug`` в логах "
"пишутся все шаги"
msgstr ""

#: ../../admin/authentication.rst
msgid ""
"взаимодействия с IdP. Если этот параметр не задан, то все логи "
"отправляются в ``/dev/null``"
msgstr ""

#: ../../admin/authentication.rst:73
msgid ""
"При включенной интеграции с IdP ecos-proxy-app отправляет GET запрос за "
"информацией для работы протокола OIDC по адресу:"
msgstr ""

#: ../../admin/authentication.rst:75
msgid ""
"``EIS_SCHEME://EIS_ID/EIS_LOCATION/realms/REALM_ID/.well-known/openid-"
"configuration``"
msgstr ""

#: ../../admin/authentication.rst:77
msgid ""
"В ответе IdP возвращает параметры, которые нужны нашему клиенту для "
"работы по протоколу OIDC. Например:"
msgstr ""

#: ../../admin/authentication.rst:79
msgid "Адреса для получения и обновления токенов;"
msgstr ""

#: ../../admin/authentication.rst:80
msgid "Адрес для проверки токена пользователя;"
msgstr ""

#: ../../admin/authentication.rst:81
msgid "Адрес для логаута;"
msgstr ""

#: ../../admin/authentication.rst:82
msgid "Поддерживаемые алгоритмы шифрования;"
msgstr ""

#: ../../admin/authentication.rst:83
msgid "и т.д."
msgstr ""

#: ../../admin/authentication.rst:86
msgid "Алгоритм аутентификация через встроенный OIDC клиент"
msgstr ""

#: ../../admin/authentication.rst:92
msgid "Приходит запрос от пользователя на защищенный ресурс;"
msgstr ""

#: ../../admin/authentication.rst:93
msgid ""
"ecos-proxy-app создает сессию для пользователя и сохраняет там исходный "
"запрос из п.1;"
msgstr ""

#: ../../admin/authentication.rst:94
msgid ""
"ecos-proxy-app отправляет ответ пользователю с установкой куки с "
"идентификатором сессии и редиректом на IdP для входа;"
msgstr ""

#: ../../admin/authentication.rst:95
msgid ""
"Пользователь проходит аутентификацию на IdP через ввод логина/пароля или "
"используя альтернативные способы для входа;"
msgstr ""

#: ../../admin/authentication.rst:96
msgid ""
"IdP после успешного входа редиректит пользователя на URI, который был "
"указан в параметре redirect_uri при редиректе на п.3 и при этом добавляет"
" в этот URI параметр с кодом, по которому ecos-proxy-app сможет запросить"
" токены пользователя у IdP;"
msgstr ""

#: ../../admin/authentication.rst:97
msgid ""
"Пользователь открывает URI, который является колбэком для аутентификации "
"(по дефолту в Citeck это ``/v2``) и попадает на ecos-proxy-app;"
msgstr ""

#: ../../admin/authentication.rst:98
msgid ""
"ecos-proxy-app получает код от пользователя и отправляет с ним запрос на "
"IdP для получения Access и Refresh токенов для пользователя;"
msgstr ""

#: ../../admin/authentication.rst:99
msgid "ecos-proxy-app получает токены пользователя от IdP;"
msgstr ""

#: ../../admin/authentication.rst:100
msgid "ecos-proxy-app сохраняет у себя токены пользователя в его сессии;"
msgstr ""

#: ../../admin/authentication.rst:101
msgid ""
"ecos-proxy-app отправляет пользователю редирект на исходный URI, который "
"он запрашивал в п.1;"
msgstr ""

#: ../../admin/authentication.rst:102
msgid "Пользователь отправляет запрос на исходный URI из п.1;"
msgstr ""

#: ../../admin/authentication.rst:103
msgid ""
"ecos-proxy-app достает Access токен пользователя из сессии и отправляет "
"запрос в IdP на проверку валидности;"
msgstr ""

#: ../../admin/authentication.rst:104
msgid "IdP отвечает ecos-proxy-app, что токен валидный;"
msgstr ""

#: ../../admin/authentication.rst:105
msgid ""
"ecos-proxy-app предоставляет доступ пользователю к защищенному ресурсу и "
"при этом добавляет в запрос хидер ``X-ECOS-User``, который равен имени "
"пользователя;"
msgstr ""

#: ../../admin/authentication.rst:106
msgid "Пользователь получает ожидаемый ответ от защищенного ресурса."
msgstr ""

#: ../../admin/authentication.rst:108
msgid ""
"Во всем процессе аутентификации от пользователя требуется только действия"
" на шаге 4 (аутентификация на IdP). Все остальные пункты проходят "
"прозрачно и незаметно для пользователя."
msgstr ""

#: ../../admin/authentication.rst:111
msgid ""
"Шаги 11-15 выполняются при каждом последующем запросе с поправкой на то, "
"что результат проверки токена на валидность кэшируется. Время хранения "
"кэша зависит от настоек IdP и как правило равно времени жизни токена "
"доступа (Access Token)."
msgstr ""

#: ../../admin/authentication.rst:121
msgid ""
"Клиент получает базовую конфигурацию для работы с IdP (realmId, eisId, "
"logoutUrl) отправив GET запрос на ``{{SERVER_HOST}}/eis.json``;"
msgstr ""

#: ../../admin/authentication.rst:122
msgid "Клиент предлагает пользователю пройти аутентификацию на IdP;"
msgstr ""

#: ../../admin/authentication.rst:123
msgid "Клиент получает Access и Refresh токены от IdP;"
msgstr ""

#: ../../admin/authentication.rst:124
msgid "Клиент отправляет запрос на защищенный ресурс с Access Token;"
msgstr ""

#: ../../admin/authentication.rst:125
msgid "ecos-proxy-app валидирует Access токен отправляя запрос на IdP;"
msgstr ""

#: ../../admin/authentication.rst:126
msgid "IdP отвечает, что токен валидный;"
msgstr ""

#: ../../admin/authentication.rst:127
msgid ""
"ecos-proxy-app отправляет запрос на защищенный ресурс, который нужен "
"клиенту добавив в запрос хидер ``X-ECOS-User`` с именем пользователя;"
msgstr ""

#: ../../admin/authentication.rst:128
msgid "Клиент получает ответ от защищенного ресурса."
msgstr ""

#: ../../admin/authentication.rst:130
msgid ""
"Во всем процессе аутентификации от пользователя требуется только действия"
" на шаге 2 (аутентификация на IdP). Все остальные пункты проходят "
"прозрачно и незаметно для пользователя."
msgstr ""

#: ../../admin/authentication.rst:133
msgid "Клиент может отправлять токен при запросах в следующем виде:"
msgstr ""

#: ../../admin/authentication.rst:135
msgid "В хидере Authentication в формате ``Bearer {{TOKEN}}``."
msgstr ""

#: ../../admin/authentication.rst:136
msgid "В куке PA"
msgstr ""

#: ../../admin/authentication.rst:138
msgid ""
"Настройки /eis.json заполняются значениями из переменных среды ecos-"
"proxy-app - REALM_ID и EIS_ID"
msgstr ""

#: ../../admin/authentication.rst:141
msgid "Настройка времени жизни сессий на Keycloak"
msgstr ""

#: ../../admin/authentication.rst:143
msgid ""
"Настройки на уровне реалма (действуют для всех клиентов в этом реалме по "
"умолчанию):"
msgstr ""

#: ../../admin/authentication.rst:145
msgid "``Realm Settings -> Tokens``"
msgstr ""

#: ../../admin/authentication.rst:147
msgid "Настройки на уровне клиента (переопределяют настройки реалма):"
msgstr ""

#: ../../admin/authentication.rst:149
msgid "``Clients -> CLIENT_ID -> Settings -> Advanced Settings``"
msgstr ""

#: ../../admin/authentication.rst:153
msgid "**Параметр**"
msgstr ""

#: ../../admin/authentication.rst:155
msgid "SSO Session Idle"
msgstr ""

#: ../../admin/authentication.rst
msgid "Время жизни сессии пользователя при неактивности. Если от пользователя"
msgstr ""

#: ../../admin/authentication.rst
msgid "нет никакой активности в течении этого времени, то сессия прерывается."
msgstr ""

#: ../../admin/authentication.rst:158
msgid "SSO Session Max"
msgstr ""

#: ../../admin/authentication.rst
msgid "Максимальное время жизни сессии пользователя. Сессия прерывается если"
msgstr ""

#: ../../admin/authentication.rst
msgid ""
"с момента аутентификации прошло указанное время вне зависимости от "
"активности пользователя."
msgstr ""

#: ../../admin/authentication.rst:161
msgid "Client Session Idle"
msgstr ""

#: ../../admin/authentication.rst
msgid "Время жизни сессии OIDC клиента при неактивности. Если от OIDC клиента"
msgstr ""

#: ../../admin/authentication.rst
msgid ""
"нет никакой активности в течении этого времени, то сессия клиента "
"прерывается."
msgstr ""

#: ../../admin/authentication.rst
msgid ""
"Если значение не задано, то по умолчанию берется значение SSO Session "
"Idle."
msgstr ""

#: ../../admin/authentication.rst:165
msgid "Client Session Max"
msgstr ""

#: ../../admin/authentication.rst
msgid "Максимальное время жизни сессии клиента. Сессия прерывается если"
msgstr ""

#: ../../admin/authentication.rst
msgid ""
"с момента аутентификации клиента прошло указанное время вне зависимости "
"от активности клиента."
msgstr ""

#: ../../admin/authentication.rst
msgid "Если значение не задано, то по умолчанию берется значение SSO Session Max."
msgstr ""

#: ../../admin/authentication.rst:169
msgid "Access Token Lifespan"
msgstr ""

#: ../../admin/authentication.rst
msgid "Время жизни Access токена. Это время жизни должно быть"
msgstr ""

#: ../../admin/authentication.rst
msgid "небольшим (по умолчанию 5 минут) из соображений безопасности."
msgstr ""

#: ../../admin/authentication.rst
msgid "Токены доступа меняются автоматически и прозрачно для пользователя."
msgstr ""

#: ../../admin/authentication.rst:174
msgid "Примечания:"
msgstr ""

#: ../../admin/authentication.rst:176
msgid ""
"Если сессия пользователя прерывается, то выданные в этой сессии Access и "
"Refresh токены отзываются."
msgstr ""

#: ../../admin/authentication.rst:177
msgid ""
"Если сессия OIDC клиента прерывается, то выданные в этой сессии Access и "
"Refresh токены для всех пользователей отзываются."
msgstr ""

#: ../../admin/authentication.rst:179
msgid ""
"Если пользователь работает с сервером через встроенный OIDC клиент в "
"ecos-proxy-app, то следует учитывать, что OIDC клиент кэширует результат "
"запросов к IdP и не каждый запрос приводит к обновлению условного "
"\"таймера активности\" на IdP. Активность обновляется как минимум при "
"обновлении Access Token'а."
msgstr ""

#: ../../admin/authentication.rst:183
msgid ""
"Из особенности работы OIDC клиента с кэшем так же следует, что если мы "
"прерываем сессию в IdP, то это не гарантирует, что пользователь сразу же "
"потеряет доступ к серверу. Пользователь сможет отправлять запросы и "
"получать данные от сервера до тех пор пока действует его Access Token."
msgstr ""

#: ../../admin/authentication.rst:188
msgid "Touch запросы"
msgstr ""

#: ../../admin/authentication.rst:190
msgid ""
"Для того, чтобы сессия пользователя неожиданно не прерывалась без явных "
"действий пользователя, которые приводят к запросам на сервер, в ecos-ui "
"добавлена логика с периодическй отправкой touch запроса. Задача этого "
"запроса в проходе через механизм проверки токена пользователя и "
"обновления условного таймера неактивности в IdP. Touch запросы "
"отправляются периодически до тех пор пока пользователь что-то делает в "
"системе (двигает мышкой, нажимает клавиши и т.д.)."
msgstr ""

#: ../../admin/authentication.rst:196
msgid "Тайминги touch запросов для версии ecos-ui 2.9.0+:"
msgstr ""

#: ../../admin/authentication.rst:198
msgid "Период отправки touch запросов: 30с."
msgstr ""

#: ../../admin/authentication.rst:199
msgid ""
"Время неактивности после которого перестают отправляться touch запросы: "
"1ч."
msgstr ""

#: ../../admin/authentication.rst:201
msgid "В журнале конфигурации Citeck можно настроить поведение touch запросов:"
msgstr ""

#: ../../admin/authentication.rst:203
msgid "Scope: **app/gateway**"
msgstr ""

#: ../../admin/authentication.rst:204
msgid "Id: **touch**"
msgstr ""

#: ../../admin/authentication.rst:206
msgid "Содержимое настройки::"
msgstr ""

#: ../../admin/authentication.rst:214
msgid "Интеграция с внешними IdP"
msgstr ""

#: ../../admin/authentication.rst:216
msgid ""
"Для организации аутентификации в Citeck с использованием IdP отличных от "
"Keycloak или c Keycloak, который не поставляется вместе с Citeck мы "
"рекомендуем использовать архитектуру:"
msgstr ""

#: ../../admin/authentication.rst:218
msgid "``[Citeck <-> Keycloak] <-> External IdP``"
msgstr ""

#: ../../admin/authentication.rst:220
msgid ""
"Citeck продолжает использовать свой Keycloak для аутентификации, а "
"внешний IdP прозрачно подключается с использованием обширных возможностей"
" Keycloak по интеграции с внешними IdP. Такая архитектура проверена "
"временем и является оптимальной для использования."
msgstr ""

