# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2025, Citeck
# This file is distributed under the same license as the Citeck package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2025.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Citeck \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2025-08-28 23:55+0300\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language: en\n"
"Language-Team: en <LL@li.org>\n"
"Plural-Forms: nplurals=2; plural=(n != 1);\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.17.0\n"

#: ../../integration/Camel_DSL/examples.rst:2
msgid "Примеры реализации"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:5
msgid "Содержание"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:8
msgid "Локальный импорт данных из Excel в Citeck"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:13
msgid "Пример простой"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:15
msgid ""
"Пример подходит для простых случаев, когда данные для импорта не содержат"
" ассоциаций, не требуется маппинг и для вас подходит упрощенный формат "
"файла."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:17
msgid ""
"В **Рабочее пространство \"Раздел администратора\"→ Интеграция → Camel "
"DSL** нажмите **\"+\"** :"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:19
msgid "В форме заполните поля:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:21
msgid ""
"**id:** import-from-excel (можно задать свой. главное чтобы id был "
"уникален среди всех Camel DSL)"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:22
msgid "**Тип:** Yaml"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:23
msgid "**Состояние:** Stopped"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:24
msgid ""
"**Файл:** здесь будет необходимо загрузить excel файл с данными (пример "
"см. ниже). Можно это сделать позднее."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:25
msgid "**Содержимое контекста**:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:47
msgid ""
"В содержимом нужно поменять только **import-test** на **sourceId** для "
"вашего типа. По умолчанию sourceId равен id типа."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:49
msgid "Сохраните."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:51
msgid ""
"Если файл с данными уже приложен, то остается только запустить через "
"**действие** в журнале или через изменение состояния **Stopped -> "
"Started** на форме редактирования:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:69
msgid ":download:`Пример файла с данными <../files/excel-test.xlsx>`"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:71
msgid "В файле:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:73
msgid "Первая строка - id атрибутов."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:74
msgid "Остальные строки - данные, которые необходимо импортировать."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:77
msgid "Пример сложнее"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:79
msgid ""
"Пример подходит для сложных случаев (добавления маппинга, работы с "
"ассоциациями, работы с нетривиальными форматами excel файла)."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:81
msgid ""
"В данном примере будет показан пример роута с использованием следующих "
"camel-элементов:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:83
msgid ":ref:`FileFromCamelDslEndpoint<FileFromCamelDslEndpoint>`"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:85
msgid ":ref:`ExcelToListOfDataProcessor<ExcelToListOfDataProcessor>`"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:87
msgid "MappingProcessor"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:89
msgid ":ref:`AssocRefByAttributeProcessor<AssocRefByAttributeProcessor>`"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:91
msgid ":ref:`EcosRecordsMutateEndpoint<EcosRecordsMutateEndpoint>`"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:93
msgid ""
"Допустим в системе есть два пользовательских типа данных - **Работник** и"
" **Позиция**"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:95
msgid "**Работник**:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:101
msgid "**Позиция** (справочный тип, является ассоциацией в типе Работник):"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:107
msgid "Необходимо импортировать следующие данные из Excel-файла (xlsx):"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:113
msgid "Комментарии к столбцам таблицы:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:115
msgid ""
"**Работник** - никакая дополнительная обработка не требуется. Значение "
"будет записано в виде строки"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:116
msgid ""
"**Должность** - тут видно, что в таблице используется свойство "
"\"Наименование\" (системное название name) ассоциации с типом Должность. "
"Для корректного сохранения в систему нужно будет определить RecordRef "
"должности"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:117
msgid ""
"**Работает больше года** -  логическое значение которое перед сохранением"
" в систему надо преобразовать в соответствующие true - false"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:118
msgid ""
"**Зарплата** - числовое значение. Показаны разные варианты записи: с "
"разрядностью, точкой и запятой в качестве разделителя, отрицательные "
"числа (просто ради примера). Текст заголовка намекает на то, что он может"
" периодически редактироваться. Кроме работы с заголовком никакая "
"дополнительная обработка числовых значений не потребуется. Они корректно "
"запишутся как соответствующие числовые значения"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:119
msgid ""
"**Дата приема** - данный столбец в таблице имеет тип Дата и для примера "
"показаны разные типы форматирования. Никакая дополнительная обработка "
"значений не потребуется"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:121
msgid ""
"Для импорта данных необходимо будет прикрепить Excel файл на форму Camel "
"DSL и прописать следующую конфигурацию:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:168
msgid "Комментарии:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:174
msgid "После импорта получаем:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:181
msgid "Синхронизация Bitrix24 – CRM"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:186
msgid "Конфиги Camel DSL"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:188
msgid ""
"В **Рабочее пространство \"Раздел администратора\" → Интеграция → Camel "
"DSL** были написаны 2 Camel DSL конфига:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:194
msgid "**bitrix24-crm-in-sync** - Входящая интеграция. Из Bitrix24 в Citeck CRM."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:196
msgid ""
"Для Входящей интеграции создан вебхук **bitrix24-webhook**, через который"
" принимаются запросы от Bitrix24 на создание или изменение Сделок. "
"Входящая интеграция в Сделках использует атрибут **bitrixId** для "
"определения какую сделку обновлять."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:199
msgid ""
"При создании сделки из Bitrix24 этот атрибут задается сразу. При "
"обновлении в Bitrix24 если в Citeck CRM нет сделки с таким **id**, то она"
" создается как новая."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:201
msgid ""
"**bitrix24-crm-out-sync** - Исходящая интеграция. Из Citeck CRM в "
"Bitrix24."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:203
msgid ""
"Исходящая интеграция синхронизирует в Bitrix24 создание и обновление "
"сделок."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:205
msgid "Атрибуты, которые синхронизируются в текущей реализации:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:213
msgid "Атрибут в deal Citeck CRM"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:214
msgid "Атрибут в Bitrix24"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:215
msgid "Комментарий"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:216
msgid "bitrixId"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:217
msgid "ID"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:219
msgid "name"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:220
msgid "TITLE"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:222
msgid "amount"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:223
msgid "OPPORTUNITY"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:225
msgid "dateReceived"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:226
msgid "DATE_CREATE"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:228
msgid "company"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:229
msgid "crm.company.get?id=COMPANY_ID -> TITLE"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:230
msgid "В COMPANY_ID хранится ID связанной со Сделкой Компанией."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:231
msgid "manager"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:232
msgid "user.get?id=ASSIGNED_BY_ID"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst
msgid "В ASSIGNED_BY_ID хранится ID менеджера сделки."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst
msgid ""
"Получаем email пользователя из Bitrix24, и если по этому значению найден "
"пользователь в системе, задаем его как менеджера."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:235
msgid "contacts"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst
msgid "Контакты в Bitrix24 хранятся в отдельных сущностях."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst
msgid "Получаем список id контактов и по каждому id получаем данные контакта"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:239
msgid "contactFio"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:240
msgid "LAST_NAME NAME SECOND_NAME"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:241
msgid "Формируется из нескольких полей в Bitrix24"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:242
msgid "contactPhone"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:243
msgid "contact.PHONE"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:245
msgid "contactEmail"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:246
msgid "contact.EMAIL"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:250
msgid "Настройка синхронизации с Bitrix24"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:254
msgid ""
"Для работы синхронизаций необходимо настроить Bitrix24, Конечные точки, "
"Секреты и Входящий вебхук:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:256
msgid ""
"В **Bitrix24** создать Исходящий вебхук (для входящей интеграции). См. "
"подробно `как <https://helpdesk.bitrix24.ru/open/20886106/>`_"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:258
msgid ""
"1.1 В **URL** указать адрес до Входящего вебхука, созданного в Citeck, "
"вида"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:260
msgid "http://host/gateway/integrations/pub/webhook/bitrix24-webhook?token=testAuthToken"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:262
msgid "bitrix24-webhook – **id**, указанный при создании вебхука."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:263
msgid "token - параметр, который был задан на форме"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:264
msgid "testAuthToken - сам токен, который был задан в Секрете"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:266
msgid ""
"1.2 В **События** необходимо указать **Создание сделки (ONCRMDEALADD)**, "
"**Обновление сделки (ONCRMDEALUPDATE)**"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:272
msgid ""
"1.3 В Citeck перейти в **Рабочее пространство \"Раздел администратора\" →"
" Модель → Секреты** в **bitrix24-webhook-token** указать **Токен "
"приложения**."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:278
msgid "В Bitrix24 создать Входящий вебхук (для запросов в Birix24)."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:280
msgid "2.1 Указать Настройку прав **crm** и **user**"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:286
msgid ""
"2.2 В Citeck перейти в **Рабочее пространство \"Раздел администратора\" →"
" Модель → Конечные точки** в **bitrix24-rest-endpoint** указать **URL** "
"Входящего вебхука Bitrix24 вида https://XXXX.bitrix24.ru/rest/"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:292
#, python-brace-format
msgid ""
"2.3 В Citeck перейти в **Рабочее пространство \"Раздел администратора\" →"
" Модель → Секреты** в **bitrix24-rest-credentials** указать **Имя "
"пользователя** и **Пароль** (значения из URL Входящего вебхука Bitrix24 "
"**..../rest/{имя пользователя}/{пароль})**"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:299
msgid ""
"В Citeck перейти в **Рабочее пространство \"Раздел администратора\" → "
"Модель → Конечные точки** в **bitrix24-rabbitmq-endpoint** указать "
"**URL** до Rabbitmq по AMQP:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:305
msgid ""
"В Citeck перейти в **Рабочее пространство \"Раздел администратора\" → "
"Модель → Секреты** в **bitrix24-rabbitmq-credentials** указать **Имя "
"пользователя** и **Пароль** для аутентификации в rabbitmq. Пользователь "
"должен быть с правами администратора."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:311
msgid ""
":ref:`Запустить<camel_dsl_actions>` в Camel DSL синхронизации **bitrix24"
"-crm-in-sync**, **bitrix24-crm-out-sync**."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:314
msgid "Глобальный импорт данных"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:320
msgid ""
"Импорт по умолчанию уже настроен в системе - подробнее :ref:`о его "
"функционале<default_data_import>`."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:322
msgid ""
"Возможность добавить в журнал нужного типа кнопку **«Импорт»**. При "
"нажатии на которую появляется список возможных вариантов шаблона, где "
"пользователь сначала выгружает шаблон в Excel, заполняет данные и "
"загружает файл назад в Систему."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:324
msgid ""
"После окончания обработки файла пользователю выводится сообщение о "
"завершении процесса и статус (Успех/Ошибка) и в системе создаются "
"карточки определенного типа."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:326
msgid ""
"Для настройки кастомного Импорта данных необходимо выполнить следующие "
"шаги:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:328
msgid ""
"**1)**  В **Рабочее пространство \"Раздел администратора\" → Интеграция →"
" Camel DSL** создать Camel DSL и описать в нем процесс обработки файла."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:330
msgid "**Тип запуска** необходимо выбрать **Импорт данных**."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:336
msgid "Пример конфига для импорта данных:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:354
msgid ""
"Конфиг импорта для варианта **«По умолчанию» - default-import-data** уже "
"настроен в системе."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:356
msgid ""
"При описании обработки файла в Camel DSL следует использовать endpoint "
"**ecos-excel-stream-read**. Он предназначен для потокового чтения файла "
"XLSX."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:358
msgid "Принимает на вход **recordRef** файла и ряд параметров:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:360
msgid ""
"**batchSize** - количество строк для обработки на каждой итерации "
"(default = 100);"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:361
msgid "**sheetName** - имя листа в файле;"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:362
msgid "**headRowNumber** - номер строки, на которой начинается заголовок;"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:363
msgid "**customAttNames** - список маппинга заголовков."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:365
msgid "При запуске импорта в контексте Camel доступны параметры:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:367
msgid "**inputFileRef** - recordRef файла, который передали в форму импорта;"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:368
msgid "**user** - recordRef пользователя, который запустил импорт;"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:369
msgid "**typeId** - localId типа данных."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:371
msgid "Если используется **default-import-data** вариант:"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:373
msgid "**sourceId** - sourceId из типа данных;"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:374
#, python-brace-format
msgid "**customAttNames** - Маппинг атрибутов из типов в виде {name: id, ......}"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:375
msgid "**assocMapping** - список маппинга ассоциаций, который указали в аспекте"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:377
msgid "**2)**  При необходимости приложить шаблон файла в Camel DSL"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:379
msgid ""
"Шаблон файла импорта для пользователя можно приложить в Camel DSL, тогда "
"пользователь сможет его скачать при выборе варианта в журнале и "
"заполнить."
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:381
msgid ""
"При сабмите формы импорта, создается отдельный instance Camel контекста, "
"который был указан в варианте. Состояние инстанса можно отследить в "
"журнале :ref:`Camel DSL Instance<camel_instance>` ``v2/admin?journalId"
"=ecos-camel-dsl-instance-journal&type=JOURNAL``"
msgstr ""

#: ../../integration/Camel_DSL/examples.rst:383
msgid ""
"**3)**  Добавить в необходимый тип данных :ref:`аспект import-data-config"
" (Импорт данных)<import-data-config_aspect>` и настроить вариант, указав "
"Camel DSL созданный на предыдущем пункте."
msgstr ""

