Конструктор бизнес-процесса
===========================

.. _editor_bpmn:

.. contents::

Элементы конструктора
---------------------
 .. image:: _static/11.png
       :width: 600
       :align: center

1.	Панель элементов 
2.	Панель свойств элемента - задаются свойства либо самой диаграммы, либо выделенного элемента.
3.	Свернуть панель свойств элемента
4.	Ползунок для перемещения рабочего пространства
5.	Сохранение процесса
6.	Посмотреть XML
7.	Сохранение и публикация процесса в движок
8.	Сохранить в svg
9.	Включение/ выключение отображения ошибок
10.     Кнопки работы с масштабом



Отображения ошибок в схеме БП
-----------------------------

Для информирования о наличии ошибки в схеме бизнес-процесса реализован режим отображения ошибок (линтер).

Режим включается/отключается по кнопке:

 .. image:: _static/linter_3.png
       :width: 300
       :align: center


Показывает ошибки и предупреждения как для элемента:

 .. image:: _static/linter_2.png
       :width: 600
       :align: center


так и суммарное количество ошибок и предупреждений для процесса:

 .. image:: _static/linter_1.png
       :width: 300
       :align: center

Состав панели элементов
-----------------------

.. list-table::
      :widths: 1 5
      :class: tight-table 

      * - 
               .. image:: _static/12.png
                :width: 30
                :align: center

        - **Activate the hand tool** – используется для перемещения диаграммы вверх-вниз, вправо-влево, удерживая ее левой кнопкой мыши.
      * - 
               .. image:: _static/13.png
                :width: 30
                :align: center

        - | **Activate the lasso tool** – используется для выделения области диаграммы - позволяет выделить несколько элементов диаграммы, удерживая левую кнопку мыши. 
          | Выделяются все элементы, попавшие в выделяемую область.
      * - 
               .. image:: _static/14.png
                :width: 30
                :align: center

        - | **Activate the create/remove space tool** – позволяет «раздвинуть» или «сжать» диаграмму: указатель мыши ставиться на то место на диаграмме, где нужно «раздвинуть» или «сжать» диаграмму.
          | И удерживая левую кнопку мыши, указателем переместить часть диаграммы в нужное место.
      * - 
               .. image:: _static/15.png
                :width: 30
                :align: center

        - | **Activate the global connect tool** - соединяющие элементы: поток управления (сплошная линия) и поток сообщений (прерывистая линия).

Элементы потока управления
--------------------------

.. list-table::
      :widths: 1 5
      :class: tight-table 

      * - 
               .. image:: _static/16.png
                :width: 30
                :align: center

        - **Create StartEvent** - начальное :ref:`событие<bpmn_events>`
      * - 
               .. image:: _static/17.png
                :width: 30
                :align: center

        - **Create Intermediate/Boundary Event** - промежуточное :ref:`событие<bpmn_events>`
      * -
               .. image:: _static/18.png
                :width: 30
                :align: center

        - **Create EndEvent** - завершающее :ref:`событие<bpmn_events>`
      * - 
               .. image:: _static/19.png
                :width: 30
                :align: center

        - **Create Gateway** - развилка или :ref:`шлюз<gateways>`, логический оператор
      * - 
               .. image:: _static/20.png
                :width: 30
                :align: center

        - **Create Task** – :ref:`задача<user_task>`
      * -
               .. image:: _static/21.png
                :width: 30
                :align: center

        - **Create expanded SubProcess** – несколько task, выделенные в :ref:`отдельную подзадачу<sub_process>`
      * -
               .. image:: _static/89.png
                :width: 30
                :align: center

        - **Create Set document status** – :ref:`изменение значения статуса элемента бизнес-процесса<set_status>`
      * -
               .. image:: _static/24.png
                :width: 30
                :align: center

        - | **Create Pool/Participant** – :ref:`пул<pool>`, используются для разграничении ответственности между задачами, организациями, пользователями. 
          | Пулы взаимодействуют между собой только потоками сообщений.


Любой бизнес-процесс начинается с начального события  и заканчивается конечным событием.

Вы создаете диаграмму БП, выбирая на Панели элементов нужные вам элементы диаграммы и соединяете их потоками управления. Выделив любой элемент диаграммы, справа от него появляется панель кнопок 

 .. image:: _static/26.png
       :width: 300
       :align: center

На панели рядом с элементом расположены следующие кнопки:

.. list-table::
      :widths: 1 5
      :class: tight-table 

      * - 
               .. image:: _static/27.png
                :width: 70
                :align: center

        - создать следующий элемент диаграммы, связанный с выделенным потоком управления
      * - 
               .. image:: _static/28.png
                :width: 30
                :align: center

        - добавить текст аннотации к элементу
      * - 
               .. image:: _static/89.png
                :width: 30
                :align: center

        - :ref:`изменить значение статуса элемента бизнес-процесса<set_status>`
      * - 
               .. image:: _static/29.png
                :width: 30
                :align: center

        - | изменить тип элемента
          | Нажать для изменения типа элемента и далее выбрать соответствующий тип.
      * - 
               .. image:: _static/30.png
                :width: 30
                :align: center

        - удалить элемент
      * - 
               .. image:: _static/91.png
                :width: 30
                :align: center

        - изменить цвет элемента
      * - 
               .. image:: _static/31.png
                :width: 30
                :align: center

        - связать элемент с любым другим на диаграмме

Основные типы элемента **Задача**:

.. list-table::
      :widths: 1 5
      :class: tight-table 

      * - 
               .. image:: _static/32.png
                :width: 80
                :align: center

        - :ref:`пользовательская задача<user_task>`
      * - 
               .. image:: _static/34.png
                :width: 80
                :align: center

        -  :ref:`отправка уведомлений<notification>`
      * - 
               .. image:: _static/92.png
                :width: 80
                :align: center

        - :ref:`бизнес-правило<business_rule_task>`
      * - 
               .. image:: _static/90.png
                :width: 80
                :align: center

        - :ref:`скриптовая задача<script_task>`
      * - 
               .. image:: _static/37.png
                :width: 120
                :align: center

        - :ref:`задача, имеющая вложенный процесс<sub_process>`

Основные типы элемента **Шлюз**:

.. list-table::
      :widths: 1 5
      :class: tight-table 

      * - 
               .. image:: _static/38.png
                :width: 100
                :align: center

        -  :ref:`параллельный шлюз<parallel_gateway>`, используется для обозначения слияния/ ветвления потоков управления в рамках процесса
      * - 
               .. image:: _static/38a.png
                :width: 100
                :align: center

        -  :ref:`исключающий шлюз<exclusive_gateway>`, используется для ветвления потока управления на несколько альтернативных потоков, когда выполнение процесса зависит от выполнения некоторого исключающего условия
      * - 
               .. image:: _static/39.png
                :width: 100
                :align: center

        - :ref:`неэксклюзивный шлюз<inclusive_gateway>`, используется для ветвления потока управления на несколько потоков, когда выполнение процесса зависит от выполнения условий
      * - 
               .. image:: _static/41.png
                :width: 100
                :align: center

        -  :ref:`эксклюзивный шлюз по событиям<event_gateway>`, используется для ветвления потока на несколько альтернативных потоков, когда дальнейшее выполнение процесса зависит от возникновения некоторого события-обработчика, следующего после шлюза. Событие, идущее после шлюза и возникшее первым, определяет дальнейший ход  выполнения процесса 
      * - 
               .. image:: _static/40.png
                :width: 100
                :align: center

        - [не реализован] комплексный шлюз, используется для ветвления потока управления на несколько потоков, когда выполнение процесса зависит от выполнения условий

Основные типы элемента **Поток управления**:

.. list-table::
      :widths: 1 5
      :class: tight-table 

      * - 
               .. image:: _static/42.png
                :width: 100
                :align: center

        -  поток управления по умолчанию, используется, когда необходимо показать, что выполнение процесса будет происходить по этому потоку только если не выполняется ни одно из заданных условий
      * - 
               .. image:: _static/43.png
                :width: 100
                :align: center

        - | условный поток управления, используется чтобы показать, что выполнение процесса будет происходить по этому потоку только в том случае, когда выполнятся заданное условие. 
          | Такой тип элемента выбирается, если условный поток управления является исходящим от процесса

