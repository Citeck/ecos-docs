.. _ecos_select:

Ecos Select
===========

.. contents::
   :depth: 4
   

Компонент "выбор из списка". 

Основан на стандартном formio-компоненте **Select**, был модифицирован, чтобы список возможных значений формировался автоматически в следующих случаях:

Если атрибут - это alfresco свойство с ограничениями (constraints) на список возможных значений. Для этого нужно во вкладке :guilabel:`Данные` выставить полю **Тип источника данных** значение URL, а в поле **URL-адрес источника данных ** указать значение **/citeck/ecos/records/query**.

Если атрибут равен ``tk:type``.

 .. image:: _static/ecos_select/ecos_select_1.png
       :width: 500
       :align: center

Таким образом, если у нас подходит один из этих случаев, то достаточно на вкладке API прописать атрибут как показано выше. 

Логика по вычислению списка возможных значений содержится в **AlfNodeMetaEdge**.

Значение в режиме просмотра
----------------------------

В компоненте список представляется как набор объектов со свойствами ``value & label``. 

Есть два режима представления значения на карточке:

* **текст**

* **ссылка (по умолчанию)**

На отображение влияют:

* флаг **Display selected value as a text. Default value is link**

* формирование списка элементов

Если флаг установлен - текст. Иначе если ``value`` соответствует строке-шаблону ``workspace://...`` или задано значение ``recordRef`` (это может быть актуально когда ``value`` отлично от ``recordRef`` для формирования ссылки) значение представляется в виде ссылки. 

Если параметры не подходят - текст.