Сохранение документа в качестве черновика
===========================================

Если требуется возможность создания и редактирования записей без отправки их по процессу, то в Citeck для этого существует системной флаг **"Черновик"**.

.. note:: 

    Системный флаг "Черновик" не связан со статусами при настройке типа.

Для того чтобы создать запись в состоянии **"Черновик"** на форме нужно добавить кнопку с действием **Submit** и в поле **"Сохранить состояние"** написать **draft** (без кавычек).

 .. image:: _static/draft/draft_01.png
       :width: 500
       :align: center

После этой настройки при нажатии этой кнопки на форме, валидация обязательных полей будет отключена и система позволит создать запись. В последствии её можно редактировать, не запуская при этом бизнес-процесс.

Для того чтобы сделать запись активной и запустить процесс следует использовать кнопку с действием Submit без заполненной настройки **"Сохранить состояние"**.

Если требуется создать запись с флагом **"Черновик"** программно, то следует при мутации указать атрибут ``_state`` равным ``draft``. Когда потребуется выход из состояния "Черновик" следует отправить мутацию с атрибутом ``_state`` равным пустой строке - "".

Для получения текущего значения  флага **"Черновик"** можно использовать атрибут ``_isDraft?bool``.