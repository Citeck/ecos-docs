Пример создания дашборда, добавления и настройки виджета «Графическая статистика»
====================================================================================

Общее описание виджета
-----------------------

Виджет **«Графическая статистика»** позволяет пользователям наглядно представлять и анализировать данные, повышая эффективность принятия решений и улучшая понимание текущего состояния бизнес-процессов.

 .. image:: _static/g_stat/01.png
       :width: 600
       :align: center

Виджет поддерживает различные типы графиков: линейные, столбчатые, круговые.

Пользователи могут выбирать источник данных для графика, включая определенные атрибуты, колонки, связанные с кейсами и справочниками платформы ECOS.

Графики конфигурируемые - пользователи могут настраивать оси, масштабирование и т.д. 

Добавление дашборда
---------------------

.. note:: 

 Функционал доступен для пользователей, состоящих в группе **Администраторы ECOS** (ECOS_ADMINISTRATORS).

:ref:`Виджеты<widgets>` можно добавить на отдельный :ref:`дашборд<dashboard>`. Для этого перейдите в настройки :ref:`меню<menu>`: 

 .. image:: _static/g_stat/02.png
       :width: 400
       :align: center

Добавьте новый **раздел**:

 .. image:: _static/g_stat/03.png
       :width: 600
       :align: center

Укажите **название** и кому раздел **доступен**, сохраните:

 .. image:: _static/g_stat/04.png
       :width: 400
       :align: center

Далее добавьте в раздел **дашборд**:

 .. image:: _static/g_stat/05.png
       :width: 600
       :align: center

Укажите **название**, выберите иконку, сохраните:

 .. image:: _static/g_stat/06.png
       :width: 400
       :align: center

Сохраните настройки, нажав **«Применить»**:

 .. image:: _static/g_stat/07.png
       :width: 600
       :align: center

Перейдите из меню в созданный дашборд и нажмите **«Настроить»**:

 .. image:: _static/g_stat/08.png
       :width: 600
       :align: center

Настройка дашборда
--------------------

Укажите количество и содержимое вкладок **(1)**, выберите расположение и количество колонок для каждой вкладки **(2)**.

Созданные колонки заполните доступными виджетами – перетащите виджет **«Графическая статистика»** в необходимую колонку **(3)**:

 .. image:: _static/g_stat/09.png
       :width: 600
       :align: center

Нажмите **«Применить»** - откроется дашборд, в котором можно настроить каждый виджет:

 .. image:: _static/g_stat/10.png
       :width: 600
       :align: center

Настройка виджета «Графическая статистика»
-------------------------------------------

Для настройки виджета нажмите:

 .. image:: _static/g_stat/11.png
       :width: 300
       :align: center

Настроим круговой график, чтобы в нем отражалось процентное соотношение статусов заявок. 

 .. image:: _static/g_stat/12.png
       :width: 500
       :align: center

Укажите **название** виджета **(1)**, выберите тип **«Круговой»** **(2)**. 

 .. image:: _static/g_stat/13.png
       :width: 500
       :align: center

Далее выберите **журнал** **(3)**, по данным которого необходимо построить график.

.. note:: 

     В выбранном журнале должны быть заранее настроены колонки для группировки. Данное действие доступно для администратора. См. подробно :ref:`о виджете<widget_graphic_statistics>`

.. image:: _static/g_stat/14.png
    :width: 600
    :align: center

И далее становятся доступны настройки **группировки** и **агрегации**:

.. image:: _static/g_stat/15.png
       :width: 500
       :align: center

**Группировка** - операция объединения данных в группы таким образом, чтобы у элементов в каждой группе был общий атрибут.

Выберите **атрибут для группировки**:

 .. image:: _static/g_stat/16.png
       :width: 500
       :align: center

.. note:: 

    В списке представлены атрибуты, у которых в настройках разрешена группировка.

**Атрибут агрегации** – атрибут, по которому необходимо возвращать сводные данные.

Выберите **атрибут для агрегации** из списка:

 .. image:: _static/g_stat/17.png
       :width: 500
       :align: center

Основные настройки графика завершены. Вы можете изменить **радиус** центрального круга, в процентах от радиуса основного или оставить по умолчанию **50 %**.

 .. image:: _static/g_stat/18.png
       :width: 500
       :align: center

Нажмите **«Сохранить»**:

 .. image:: _static/g_stat/19.png
       :width: 400
       :align: center

По нажатию на **пункт легенды** данные пункта легенды убираются из представления графика:

 .. image:: _static/g_stat/20.png
       :width: 400
       :align: center

О других типах графиков смотрите в статье :ref:`Виджет «Графическая статистика»<widget_graphic_statistics>`